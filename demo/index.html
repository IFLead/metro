<html>
<head>
    <title>Схема метрополитена</title>
    <link rel="stylesheet" href="//rawgit.com/dvhbru/themes/master/dist/main.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/atom-one-dark.min.css"/>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script type="text/javascript" src="dvhb_metro.js"></script>

    <style>
        .info-msg {
            padding-top: 10px;
            font-family: "PT Sans";
            width: 200px;
            position: absolute;
            border: 1px solid #ccc;
            background-color: #F7FCFF;
            border-radius: 3px;
            left: -100px;
            top: -100px;
        }

        .info-msg ul {
            padding: 0 10px;
            list-style-type: none;
        }

        .info-msg ul li {
            margin-top: 7px;
        }

        .info-msg ul li + li {
            border-top: 1px solid #ccc;
        }

        .map {
            position: relative;
        }

        subway-station-selector div {
            cursor: pointer;
        }

        subway-station-selector div.disabled {
            color: gray;
            cursor: initial;
        }
    </style>
</head>

<body ng-app="App" ng-controller="MainCtrl">
<div class="b-intro b-content textLg"
     style="background-image: url('//rawgit.com/dvhbru/themes/1.1.0/dist/img/bg_intro_subway.jpg');">

    <a href="https://github.com/dvhbru/dvhb-metro" target="_blank">
        <img style="position: absolute; top: 0; right: 0; border: 0;"
             src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67"
             alt="Fork me on GitHub"
             data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
    </a>

    <div class="section">
        <h1>Схема метрополитена</h1>
        <p>
            dvhbMetro — библиотека для отображения схемы метрополитена.
            Позволяет выбирать станции на карте и отображать информацию о них.
        </p>
        <p>
            Github:
            <a href="https://github.com/dvhbru/dvhb-metro" target="_blank">
                dvhbru/dvhb-metro
            </a>
        </p>

        <h2>Сделано с помощью</h2>
        <div>
            <a href="https://angularjs.org/" target="_blank">Angular.js</a>
        </div>
    </div>
</div>

<div class="b-content textLg">
    <div class="section">
        <h2>Зависимости</h2>
        <p>Angular.js >= 1.2</p>

        <h2>Установка</h2>
        <p class="textGreen">
            npm i @dvhb/metro --save
        </p>
    </div>
</div>

<div class="b-usage b-content">
    <div class="section">
        <h2>Использование</h2>
        <pre>

<script type="text/template" id="ex1"><metro
    stations="stations" on-select="showInfo">
    <div metro-info offset="{top: 20}">
        <b>{{"{{station.name}\}"}}</b>
        <i>{{"{{station.info}\}"}}</i>
    </div>
</metro></script>
            <code class="html" id="code1"></code>
        </pre>
        <pre>
            <code class="javascript">angular
    .module('App', ['dvhbMetro'])
    .controller('MainCtrl', function ($scope) {
        $scope.stations = {
            "Курская (Кольцевая)": "ТЦ «Атриум», 3 эт., с 9:00 до 21:00",
            "Фили": "ТЦ «Филёвский», 1 эт., с 10:00 до 21:00",
            "Войковская": "ТЦ «Войковский», 2 эт., с 8:00 до 22:00",
            "Спартак": "ТЦ «Колизей», 1 эт., с 8:00 до 22:00"
        };

        $scope.station = {};

        $scope.showInfo = function (names, position) {
            $scope.station = {
                name: names[0],
                info: $scope.stations[names[0]]
            ;
        }
    })</code>
        </pre>
    </div>
</div>
<div class="b-demo b-content textLg">
    <div class="section"><h2>Демо</h2>
        <div class="form-group">
            <div class="b-tabs">

                <div class="map" metro stations="stations" on-select="showInfo">
                    <div metro-info offset="{top: 20}" class="info-msg" style="">
                        <div style="text-align: center">
                            <b>{{station.name}}</b>
                        </div>
                        <ul>
                            <li ng-repeat="point in station.info">
                                <h3>{{point.name}}</h3>
                                <div>
                                    <small>Телефон: {{point.tel}}</small>
                                </div>
                                <div>{{point.info}}</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-item">
                        <a href="https://github.com/dvhbru/dvhb-metro/archive/master.zip" class="btn btn_block" target="_blank">
                            Скачать
                        </a>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-item">
                        <a href="https://github.com/dvhbru/dvhb-metro" class="btn btn_block" target="_blank">
                            Исходник на GitHub
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <h2>Документация</h2>
        <p>
            <a href="https://github.com/dvhbru/dvhb-metro/blob/master/README.MD" target="_blank">
                https://github.com/dvhbru/dvhb-metro/blob/master/README.MD
            </a>
        </p>

        <h2>Лицензия</h2>
        <p>
            Данная библиотека распространяется по лицензии MIT © <a href="https://dvhb.ru/" target="_blank">dvhb</a>
        </p>
        <p>
            Дизайн карты метро © Студия Артемия Лебедева
        </p>
    </div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/atom-one-dark.min.css"/>

<script>
    angular
        .module('App', ['dvhbMetro'])
        .controller('MainCtrl', MainCtrl);

    function MainCtrl($scope) {

        $scope.pos = {};

        $scope.stationInfo = {};

        $scope.stations = {
            "Курская (Кольцевая линия)": [
                {name: "ТЦ «Атриум»", info: "1-ый этаж", tel: "+7 123 456 78"},
                {name: "ТЦ «Атриум»", info: "2-ой этаж", tel: "+7 123 456 78"}
            ],
            "Фили": [
                {name: "ТЦ «Филион»", info: "2-ой этаж", tel: "+7 123 456 78"}
            ],
            "Войковская": [
                {name: "ТЦ «Атриум»", info: "1-ый этаж", tel: "+7 123 456 78"}
            ],
            "Спартак": [
                {name: "ТЦ «Колизей»", info: "3-ий этаж", tel: "+7 123 456 78"}
            ],
            "Выставочная": [
                {name: "ТЦ «Филион»", info: "2-ой этаж", tel: "+7 123 456 78"}
            ],
            "Деловой центр": [
                {name: "ТЦ Пирамида", info: "1-ый этаж", tel: "+7 123 456 78"}
            ]
        };


        $scope.allStations = {
            "Замоскворецкая": ["Речной вокзал", "Водный стадион", "Войковская", "Сокол", "Аэропорт", "Динамо", "Белорусская", "Тверская", "Театральная", "Новокузнецкая", "Павелецкая", "Автозаводская", "Технопарк", "Коломенская", "Каширская", "Кантемировская", "Царицыно", "Орехово", "Домодедовская", "Красногвардейская", "Алма-Атинская"],
            "Таганско-Краснопресненская линия": ["Планерная", "Сходненская", "Тушинская", "Спартак", "Щукинская", "Октябрьское Поле", "Полежаевская", "Беговая", "Улица 1905 года", "Баррикандая", "Пушкинская", "Кузнецкий Мост", "Китай-город", "Таганская", "Пролетарская", "Волгоградский проспект", "Текстильщики", "Кузьминки", "Рязанский проспект", "Выхино", "Лермонтовский проспект", "Жулебино", "Котельники"],
            "Арбатско-Покровская": ["Пятницкое шоссе", "Митино", "Волоколамская", "Мякинино", "Строгино", "Крылатское", "Молодёжная", "Кунцевская", "Славянский бульвар", "Парк Победы", "Киевская", "Смоленская", "Арбатская", "Площадь Революции", "Курская", "Бауманская", "Электрозаводская", "Семёновская", "Партизанская", "Измайловская", "Первомайская", "Щёлковская"],
            "Филёвская": ["Пионерская", "Филёвский парк", "Багратионовская", "Фили", "Кутузовская", "Студенческая", "Выставочная", "Международная", "Киевская", "Смоленская", "Арбатская", "Александровский сад"],
            "Сокольническая": ["Тропарёво", "Юго-Западная", "Проспект Вернадского", "Университет", "Воробьёвы горы", "Спортивная", "Фрунзенская", "Кропоткинская", "Библиотека им. Ленина", "Охотный Ряд", "Лубянка", "Чистые пруды", "Красные Ворота", "Комсомольская", "Красносельская", "Сокольники", "Преображенская площадь", "Черкизовская", "Бульвар Рокоссовского"],
            "Кольцевая": ["Октябрьская", "Добрынинская", "Павелецкая", "Таганская", "Курская", "Комсомольская", "Проспект Мира", "Менделеевская", "Белорусская", "Краснопресненская"],
            "Калужско-Рижская": ["Новоясеневская", "Ясенево", "Тёплый стан", "Коньково", "Беляево", "Калужская", "Новые Черёмушки", "Профсоюзная", "Академическая", "Ленинский проспект", "Шаболовская", "Октябрьская", "Третьяковская", "Китай-город", "Тургеневская", "Сухаревская", "Проспект Мира", "Рижская", "Алексеевская", "Ботанический сад", "Свиблово", "Бабушкинская", "Медведково"],
            "Калининско-Солнцевская 1": ["Новокосино", "Новогиреево", "Перово", "Шоссе Энтузиастов", "Авиамоторная", "Площадь Ильича", "Марксистская", "Новокузнецкая"],
            "Калининско-Солнцевская 2": ["Парк Победы", "Деловой центр"],
            "Серпуховско-Тимерязевская": ["Алтуфьево", "Бибирево", "Отрадное", "Владыкино", "Петровско-Разумовская", "Тимирязевская", "Дмитровская", "Савёловская", "Менделеевская", "Трубная", "Чеховская", "Александровский сад", "Полянка", "Серпуховская", "Тульская", "Нагатинская", "Нагорная", "Нахимовский проспект", "Севастопольская", "Чертановская", "Южная", "Пражская", "Улица Академика Янгеля", "Аннино", "Бульвар Дмитрия Донского"],
            "Люблинско-Дмитровская": ["Зябликово", "Шипиловская", "Борисово", "Марьино", "Братиславская", "Люблино", "Волжская", "Печатники", "Кожуховская", "Дубровка", "Крестьянская Застава", "Римская", "Чкаловская", "Сретенский бульвар", "Трубная", "Достоевская", "Марьина Роща"],
            "Каховская": ["Каховская", "Варшавская", "Каширская"],
            "Бутовская": ["Бунинская аллея", "Улица Горчакова", "Бульвар Адмирала Ушакова", "Улица Скобелевская", "Улица Старокачаловская", "Лесопарковая", "Битцевский парк"]
        };


        $scope.showInfo = function (names) {
            $scope.station = {
                name: names[0],
                info: $scope.stations[names[0]]
            };
        }

    }

    $("#code1").text($("#ex1").text());
    hljs.initHighlightingOnLoad();

</script>

</body>
</html>